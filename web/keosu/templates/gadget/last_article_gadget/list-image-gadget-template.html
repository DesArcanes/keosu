<div ng-controller="last_article_gadgetController">
	<div ng-show="isList">
			<li
				ng-class="{active: activePage.page == $index, 
    inactive: activePage.page != $index}"
				ng-repeat="page in pages track by $index">
						<div class="list">
				<div class="list-content">
					<div class="media list-elements" ng-repeat="apage in page">
						<div class="row" ng-click="open(apage)">
							<div class="col-xs-4 vcenter">
								<div class="img-min-list">
									<span ng-if="apage.attachments[0].path"> <img
										class="img-min" src="{{ apage.attachments[0].path }}" alt="" />
									</span>
								</div>
							</div>
							<div class="col-xs-8 vcenter">
								<span class="list-title"> <span
									ng-if="apage.attachments[0].path">
										<h6>{{ apage.title }}</h6>
								</span> <span ng-if="!(apage.attachments[0].path)">
										<h6 class="title list-title">{{ apage.title }}</h6>
								</span>
								</span>
							</div>
						</div>
						<hr>
					</div>
							</div>
				</div> <a ng-show="pages[$index - 1]"
				ng-click="activePage.page = $index-1" class="previous" href="#"><button
						class="btn btn-default btn-page">Previous</button></a> <a
				ng-show="pages[$index + 1]" ng-click="activePage.page = $index+1"
				class="next" href="#"><button
						class="btn btn-default btn-page pull-right">Next</button></a>
			</li>

	</div>
	<div ng-show="isArticle">
		<a ng-click="close()"><i class="fui-cross basic-icon-cross"></i></a>
		<div class="row-fluid">
			<h4 class="title" style="text-align: center">{{ article.title }}</h4>
		</div>
		<hr>
		<div class="gadget-content">
			<div class="row-fluid">
				<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
					<div ng-bind-html="article.content"></div>
				</div>
			</div>
		</div>
		<ul class="img-list">
			<li ng-repeat="img in article.attachments"><img class="center"
				ng-if="img" src="{{ img.path }}" alt=""></li>
		</ul>
		<div style="clear:both;" class="comment row-fluid" ng-show="article.enableComments == 1">
			<div ng-repeat="comment in comments" class="comment-list">
				<dl>
					<dt>{{comment.user}} - {{comment.date}}</dt>
					<dd>{{comment.message}}</dd>
				</dl>
			</div>
			<div ng-show="connect">
				<div class="comment-box">
					<form role="form" ng-submit="commentAddAction()">
						<fieldset>
							<legend>Add a new comment</legend>
							<textarea class="form-control" rows="3" ng-model="messageComment"></textarea>
							<button type="submit" class="btn btn-default">Add a new Comment</button>
						</fieldset>
					</form>
				</div>
			</div>
			<div ng-hide="connect">
				<div class="alert alert-warning" role="alert">You must be connected to add a new comment</div>
			</div>
		</div>
	</div>
</div>
